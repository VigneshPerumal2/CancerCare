# CancerCare

## **Teammates**
  **Amulya Murahari (murahari.a)
  Vignesh Perumal Samy (perumalsamy.v)
  Sunayana Shivanagi   (shivanagi.s)**

**Repository Link : https://github.com/VigneshPerumal2/CancerCare.git**


Cancer is a disease of the genome, caused by genetic variations in genes. These mutations impact the processes that regulate how cells interact with their environment and grow.

The goal of this project is to develop a database tool that will allow us to examine patient information and get insightful knowledge about how frequently cancer occurs. Twitter database schema is also included in the cancer care system. The data is based on assessing the changing gene conditions in patients over time and will then be used to determine which type of treatment is most likely to save the patient because genes play a vital part in cancer detection.


## **ERD DIAGRAM**

![MicrosoftTeams-image (8)](https://user-images.githubusercontent.com/37552813/205798554-bf870fc7-d029-430d-a1f1-b1f7958f383e.png)






**Database Connection (Scraping/Gathering)**

    

import pandas as pd
data = pd.read_csv (r'clinical_data.csv',index_col=False)   
df = pd.DataFrame(data)


**Data Validation**

**Completeness:** Refers to the degree to which an entity includes data required to describe a real-world object. In tables in relational database systems, completeness can be measured by the presence of null values, which is usually interpreted as a missing value.

**Consistency:** The degree to which a set of semantic rules are violated such as a specific data type, an interval for a numerical column, or a set of values for a categorical column.

**Accuracy:** The correctness of the data and can be measured in two dimensions: syntactic and semantic. Syntactic accuracy compares the representation of a value with a corresponding definition domain, whereas semantic accuracy compares a value with its real-world representation.


**Visualizing Missing Data and Validate data to check missing values (Before Cleaning)**

Visualizing the missing values

**Barplot**
The barplot provides a simple plot where each bar represents a column within the dataframe. The height of the bar indicates how complete that column is, i.e, how many non-null values are present. It can be generated by calling upon:
msno.bar(df)

**Matrix Plot**
The matrix plot is a great tool if you are working with depth-related data or time-series data. It provides a colour fill for each column. When data is present, the plot is shaded in grey (or your colour of choice), and when it is absent the plot is displayed in white.
msno.matrix(df)

**Heatmap**
The heatmap is used to identify correlations of the nullity between each of the different columns. In other words, it can be used to identify if there is a relationship in the presence of null values between each of the columns.

Values close to positive 1 indicate that the presence of null values in one column is correlated with the presence of null values in another column.

Values close to negative 1 indicate that the presence of null values in one column is anti-correlated with the presence of null values in another column. In other words, when null values are present in one column, there are data values present in the other column, and vice versa.
msno.heatmap(df)

**Dendrogram**
The dendrogram plot provides a tree-like graph generated through hierarchical clustering and groups together columns that have strong correlations in nullity.

If a number of columns are grouped together at level zero, then the presence of nulls in one of those columns is directly related to the presence or absence of nulls in the others columns. The more separated the columns in the tree, the less likely the null values can be correlated between the columns.
msno.dendrogram(df)






<img width="921" alt="MicrosoftTeams-image (11)" src="https://user-images.githubusercontent.com/37552813/205804097-c35fa8ee-6049-4918-a3ec-607fd7d0562b.png">


<img width="1187" alt="MicrosoftTeams-image (12)" src="https://user-images.githubusercontent.com/37552813/205804183-94ff1a72-003d-4c04-9246-4ec436f4b8e5.png">


<img width="1156" alt="MicrosoftTeams-image (13)" src="https://user-images.githubusercontent.com/37552813/205804323-27f3686f-ecad-42e7-b230-456c341b4287.png">


<img width="1129" alt="MicrosoftTeams-image (15)" src="https://user-images.githubusercontent.com/37552813/205804998-9c0943b1-4a37-43d2-8128-1541d42162e8.png">


**Validate data to fill missing values (Munging)**


Filling Missing values
This method fills each missing row with the value of the nearest one above it.
It fills each missing row in the DataFrame with the nearest value below it.
Validating missing data

**Data Completeness completed ...
Visualizing Missing Data and Validate data to check missing values (After Cleaning)**


Visualizing the missing values

**Barplot**
The barplot provides a simple plot where each bar represents a column within the dataframe. The height of the bar indicates how complete that column is, i.e, how many non-null values are present. It can be generated by calling upon:
msno.bar(df)


**Matrix Plot**
The matrix plot is a great tool if you are working with depth-related data or time-series data. It provides a colour fill for each column. When data is present, the plot is shaded in grey (or your colour of choice), and when it is absent the plot is displayed in white.


**Heatmap**
The heatmap is used to identify correlations of the nullity between each of the different columns. In other words, it can be used to identify if there is a relationship in the presence of null values between each of the columns.

Values close to positive 1 indicate that the presence of null values in one column is correlated with the presence of null values in another column.

Values close to negative 1 indicate that the presence of null values in one column is anti-correlated with the presence of null values in another column. In other words, when null values are present in one column, there are data values present in the other column, and vice versa.
msno.heatmap(df)


**Dendrogram**
The dendrogram plot provides a tree-like graph generated through hierarchical clustering and groups together columns that have strong correlations in nullity.

If a number of columns are grouped together at level zero, then the presence of nulls in one of those columns is directly related to the presence or absence of nulls in the others columns. The more separated the columns in the tree, the less likely the null values can be correlated between the columns.


<img width="658" alt="MicrosoftTeams-image (9)" src="https://user-images.githubusercontent.com/37552813/205802688-83f73999-8e3f-488b-8b4b-e25a169c002d.png">


<img width="912" alt="MicrosoftTeams-image (16)" src="https://user-images.githubusercontent.com/37552813/205805755-b3092827-36c0-43e7-bcca-dc5e2928ca37.png">


<img width="900" alt="MicrosoftTeams-image (17)" src="https://user-images.githubusercontent.com/37552813/205805857-d5f1bc8b-a2a7-4a8a-b40e-d4dea9eae220.png">


<img width="867" alt="MicrosoftTeams-image (18)" src="https://user-images.githubusercontent.com/37552813/205805923-a15d55d1-a062-4462-9763-bae4d0733064.png">


<img width="930" alt="MicrosoftTeams-image (19)" src="https://user-images.githubusercontent.com/37552813/205805968-69625d98-0cfd-490f-b6b2-acac3c0e1ef6.png">


**CREATING TABLES**


```
PATIENT TABLE
conn = sqlite3.connect('cancer.db')
print("Opened database successfully");
conn.execute('''DROP TABLE IF EXISTS PATIENT;''')
conn.execute('''CREATE TABLE IF NOT EXISTS PATIENT
         (
         Patient_ID TEXT PRIMARY KEY,
         Sample_ID TEXT  ,
         Age INTEGER ,
         Race TEXT  ,
         Sex TEXT   ,
         Number_of_Samples_Per_Patient INTEGER,
         Smoking_Status TEXT
         );''')

print("Patient Table created successfully");

conn.close()
```


```
#CANCER_TYPE TABLE
conn = sqlite3.connect('cancer.db')
print("Opened database successfully");
conn.execute('''DROP TABLE IF EXISTS CANCER_TYPE;''')
conn.execute('''CREATE TABLE IF NOT EXISTS CANCER_TYPE
        (
         Cancer_Type_ID INTEGER PRIMARY KEY AUTOINCREMENT,
         Cancer_Type TEXT ,
         Patient_ID  TEXT  ,
         Cancer_Type_Detailed  TEXT  ,
         All_therapy_at_MSKCC TEXT ,
         FOREIGN KEY(Patient_ID) REFERENCES PATIENT(Patient_ID));''')

print("Cancer_Type Table created successfully");

conn.close()
```


```
#DIAGNOSIS TABLE
conn = sqlite3.connect('cancer.db')
print("Opened database successfully");
conn.execute('''DROP TABLE IF EXISTS DIAGNOSIS;''')
conn.execute('''CREATE TABLE IF NOT EXISTS DIAGNOSIS

         (Diagnosis_ID INTEGER PRIMARY KEY AUTOINCREMENT,
          Patient_ID TEXT,
          Time_From_Diagnosis INTEGER,
          Time_to_Blood_Draw_from_Treatment INTEGER,
          FOREIGN KEY(Patient_ID) REFERENCES PATIENT(Patient_ID));''')

print("Diagnosis Table created successfully");

conn.close()
```


```
#ANTIBIOTICS TABLE
conn = sqlite3.connect('cancer.db')
print("Opened database successfully");
conn.execute('''DROP TABLE IF EXISTS ANTIBIOTICS;''')
conn.execute('''CREATE TABLE IF NOT EXISTS ANTIBIOTICS

         (Alkylating_Agent_Treatment_ID INTEGER PRIMARY KEY AUTOINCREMENT ,
          Alkylating_Agent_Treatment TEXT,
          Patient_ID TEXT,
          Cumulative_Exposure_to_Alkylatin_Agent TEXT,
          Anthracycline_Treatment TEXT,
          Cumulative_Exposure_to_Anthracycline TEXT,
          Targeted_Therapy_Treatment TEXT,
          Cumulative_Exposure_to_Targeted_Therapy TEXT,
          Taxane_Treatment TEXT,
          Cumulative_Exposure_to_Taxane TEXT,
          FOREIGN KEY(Patient_ID) REFERENCES PATIENT(Patient_ID) );''')

print("Antibiotics Table created successfully");

conn.close()
```


```
#RADIOTHERAPY TABLE
conn = sqlite3.connect('cancer.db')
print("Opened database successfully");
conn.execute('''DROP TABLE IF EXISTS RADIOTHERAPY;''')
conn.execute('''CREATE TABLE IF NOT EXISTS RADIOTHERAPY
         (
          Radiation_Therapy_ID INTEGER PRIMARY KEY AUTOINCREMENT,
          Patient_ID TEXT,
          Immunotherapy_Treatment TEXT,
          Radiation_Therapy TEXT,
          Radiotherapy_Treatment TEXT,
          Cumulative_Exposure_to_Immunotherapy TEXT,
          FOREIGN KEY(Patient_ID) REFERENCES PATIENT(Patient_ID));''')

print("Radiotherapy Table created successfully");

conn.close()
```


```
#CHEMOTHERAPY TABLE
conn = sqlite3.connect('cancer.db')
print("Opened database successfully");
conn.execute('''DROP TABLE IF EXISTS CHEMOTHERAPY;''')
conn.execute('''CREATE TABLE IF NOT EXISTS CHEMOTHERAPY

         (
          Chemotherapy_Treatment_ID INTEGER PRIMARY KEY AUTOINCREMENT,
          Chemotherapy_Treatment TEXT,
          Patient_ID TEXT,
          Cytotoxic_Chemotherapy_Treatment TEXT ,
          Cumulative_Exposure_to_Other_Cytotoxic_Therapy TEXT ,
          Oxaliplatin_Treatment TEXT ,
          Other_Cytotoxic_Treatment TEXT ,
          Cumulative_Exposure_to_Oxaliplatin TEXT ,
          Cytotoxic_Chemotherapy_Treatment_Tertile TEXT ,
          FOREIGN KEY(Patient_ID) REFERENCES PATIENT(Patient_ID));''')

print("Chemotherapy Table created successfully");

conn.close()
```


```
#ANTIMETABOLITE TABLE
conn = sqlite3.connect('cancer.db')
print("Opened database successfully");
conn.execute('''DROP TABLE IF EXISTS ANTIMETABOLITE;''')
conn.execute('''CREATE TABLE IF NOT EXISTS ANTIMETABOLITE

         (
          Antimetabolite_Treatment_ID INTEGER PRIMARY KEY AUTOINCREMENT,
          Antimetobolite_Treatment TEXT,
          Patient_ID TEXT,
          Cumulative_Exposure_to_Antimetabolite TEXT,
          Carboplatin_Treatment  TEXT,
          Cumulative_Exposure_to_Carboplatin TEXT,
          Cisplatin_Treatment TEXT,
          Cumulative_Exposure_to_Cisplatin TEXT,
          Platinum_Treatment TEXT,
          Cumulative_Exposure_to_Platinum TEXT,
          FOREIGN KEY(Patient_ID) REFERENCES PATIENT(Patient_ID));''')

print("Antimetabolite Table created successfully");

conn.close()
```


```
#MICROTUBULE TABLE
conn = sqlite3.connect('cancer.db')
print("Opened database successfully");
conn.execute('''DROP TABLE IF EXISTS MICROTUBULE;''')
conn.execute('''CREATE TABLE IF NOT EXISTS MICROTUBULE

         (
          Microtubule_ID  INTEGER PRIMARY KEY AUTOINCREMENT,
          EQD_Tertiles TEXT,
          Patient_ID TEXT,
          Oncotree_Code TEXT,
          Nucleoside_Analogue_Treatment  TEXT,
          Cumulative_Exposure_to_Microtubule_Damaging_Agent TEXT,
          Mutation_Count INTEGER,
          Folic_Acid_Analog_Treatment TEXT,
          FOREIGN KEY(Patient_ID) REFERENCES PATIENT(Patient_ID));''')

print("Microtubule Table created successfully");

conn.close()
```


```
#TOPOISOMERASE TABLE
conn = sqlite3.connect('cancer.db')
print("Opened database successfully");
conn.execute('''DROP TABLE IF EXISTS TOPOISOMERASE;''')
conn.execute('''CREATE TABLE IF NOT EXISTS TOPOISOMERASE

         (Topoisomerase_Treatment_ID INTEGER PRIMARY KEY AUTOINCREMENT,
          Cumulative_Exposure_to_Topoisomerase_I_Inhibitor TEXT,
          Patient_ID TEXT,
          Cumulative_Exposure_to_Topoisomerase_II_Inhibitor TEXT,
          Topoisomerase_I_Inhibitor_Treatment TEXT,
          Topoisomerase_II_Inhibitor_Treatment TEXT,
          FOREIGN KEY(Patient_ID) REFERENCES PATIENT(Patient_ID));''')

print("Topoisomerase Table created successfully");

conn.close()
```

     
**INSERTING TABLES**


```
#INSERT PATIENT TABLE VALUES
conn = sqlite3.connect('cancer.db')
for row in df.itertuples():
    conn.execute('INSERT INTO PATIENT(Patient_ID, Sample_ID, Age, Race, Sex, Number_of_Samples_Per_Patient, Smoking_Status) VALUES (?,?,?,?,?,?,?)',(
                row.Patient_ID, 
                row.Sample_ID,
                row.Age,
                row.Race,
                row.Sex,
                row.Number_of_Samples_Per_Patient,
                row.Smoking_Status
                )
                )
    conn.commit()
conn.close()
```


```
#INSERT CANCER_TYPE TABLE VALUES
conn = sqlite3.connect('cancer.db')
for row in df.itertuples():
    conn.execute('INSERT INTO CANCER_TYPE( Cancer_Type, Patient_ID, Cancer_Type_Detailed, All_therapy_at_MSKCC) VALUES (?,?,?,?)',(
                row.Cancer_Type,
                row.Patient_ID,
                row.Cancer_Type_Detailed,
                row.All_therapy_at_MSKCC
                )
                )
    conn.commit()
conn.close()
```


```
#INSERT DIAGNOSIS TABLE VALUES
conn = sqlite3.connect('cancer.db')
for row in df.itertuples():
    conn.execute('INSERT INTO DIAGNOSIS( Patient_ID, Time_from_Diagnosis, Time_to_Blood_Draw_from_Treatment ) VALUES (?,?,?)',(
                row.Patient_ID,
                row.Time_from_Diagnosis,
                row.Time_to_Blood_Draw_from_Treatment
                )
                )
    conn.commit()
conn.close()
```


```
#INSERT ANTIBIOTICS TABLE VALUES
conn = sqlite3.connect('cancer.db')
for row in df.itertuples():
    conn.execute('INSERT INTO ANTIBIOTICS( Alkylating_Agent_Treatment, Patient_ID, Cumulative_Exposure_to_Alkylatin_Agent, Anthracycline_Treatment, Cumulative_Exposure_to_Anthracycline, Targeted_Therapy_Treatment, Cumulative_Exposure_to_Targeted_Therapy, Taxane_Treatment, Cumulative_Exposure_to_Taxane) VALUES (?,?,?,?,?,?,?,?,?)',(
                row.Alkylating_Agent_Treatment,
                row.Patient_ID,
                row.Cumulative_Exposure_to_Alkylatin_Agent,
                row.Anthracycline_Treatment,
                row.Cumulative_Exposure_to_Anthracycline,
                row.Targeted_Therapy_Treatment,
                row.Cumulative_Exposure_to_Targeted_Therapy,
                row.Taxane_Treatment,
                row.Cumulative_Exposure_to_Taxane
                )
                )
    conn.commit()
conn.close()
```


```
#INSERT RADIOTHERAPY TABLE VALUES
conn = sqlite3.connect('cancer.db')
for row in df.itertuples():
    conn.execute('INSERT INTO RADIOTHERAPY( Patient_ID, Immunotherapy_Treatment, Radiation_Therapy, Radiotherapy_Treatment, Cumulative_Exposure_to_Immunotherapy) VALUES (?,?,?,?,?)',(
                row.Patient_ID,
                row.Immunotherapy_Treatment,
                row.Radiation_Therapy,
                row.Radiotherapy_Treatment,
                row.Cumulative_Exposure_to_Immunotherapy
                )
                )
    conn.commit()
conn.close()
```


```
#INSERT CHEMOTHERAPY TABLE VALUES
conn = sqlite3.connect('cancer.db')
for row in df.itertuples():
    conn.execute('INSERT INTO CHEMOTHERAPY( Chemotherapy_Treatment, Patient_ID, Cytotoxic_Chemotherapy_Treatment, Cumulative_Exposure_to_Other_Cytotoxic_Therapy, Oxaliplatin_Treatment,Other_Cytotoxic_Treatment, Cumulative_Exposure_to_Oxaliplatin, Cytotoxic_Chemotherapy_Treatment_Tertile) VALUES (?,?,?,?,?,?,?,?)',(
                row.Chemotherapy_Treatment,
                row.Patient_ID,
                row.Cytotoxic_Chemotherapy_Treatment,
                row.Cumulative_Exposure_to_Other_Cytotoxic_Therapy,
                row.Oxaliplatin_Treatment,
                row.Other_Cytotoxic_Treatment,
                row.Cumulative_Exposure_to_Oxaliplatin,
                row.Cytotoxic_Chemotherapy_Treatment_Tertile
                )
                )
    conn.commit()
conn.close()
```


```
#INSERT ANTIMETABOLITE TABLE VALUES
conn = sqlite3.connect('cancer.db')
for row in df.itertuples():
    conn.execute('INSERT INTO ANTIMETABOLITE( Antimetobolite_Treatment,Patient_ID, Cumulative_Exposure_to_Antimetabolite, Carboplatin_Treatment, Cumulative_Exposure_to_Carboplatin,Cisplatin_Treatment, Cumulative_Exposure_to_Cisplatin,Platinum_Treatment, Cumulative_Exposure_to_Platinum) VALUES (?,?,?,?,?,?,?,?,?)',(
                row.Antimetobolite_Treatment,
                row.Patient_ID,
                row.Cumulative_Exposure_to_Antimetabolite,
                row.Carboplatin_Treatment,
                row.Cumulative_Exposure_to_Carboplatin,
                row.Cisplatin_Treatment,
                row.Cumulative_Exposure_to_Cisplatin,
                row.Platinum_Treatment,
                row.Cumulative_Exposure_to_Platinum
                )
                )
    conn.commit()
conn.close()
```


```
#INSERT MICROTUBULE TABLE VALUES
conn = sqlite3.connect('cancer.db')
for row in df.itertuples():
    conn.execute('INSERT INTO MICROTUBULE( EQD_Tertiles, Patient_ID, Oncotree_Code, Nucleoside_Analogue_Treatment, Cumulative_Exposure_to_Microtubule_Damaging_Agent,Mutation_Count, Folic_Acid_Analog_Treatment ) VALUES (?,?,?,?,?,?,?)',
               (
                row.EQD_Tertiles,
                row.Patient_ID,
                row.Oncotree_Code,
                row.Nucleoside_Analogue_Treatment,
                row.Cumulative_Exposure_to_Microtubule_Damaging_Agent,
                row.Mutation_Count,
                row.Folic_Acid_Analog_Treatment
                )
                )
    conn.commit()
conn.close()
```


```
#INSERT TOPOISOMERASE TABLE VALUES
conn = sqlite3.connect('cancer.db')
for row in df.itertuples():
    conn.execute('INSERT INTO TOPOISOMERASE( Cumulative_Exposure_to_Topoisomerase_I_Inhibitor, Patient_ID, Cumulative_Exposure_to_Topoisomerase_II_Inhibitor, Topoisomerase_I_Inhibitor_Treatment, Topoisomerase_II_Inhibitor_Treatment ) VALUES (?,?,?,?,?)',
               (
                row.Cumulative_Exposure_to_Topoisomerase_I_Inhibitor,
                row.Patient_ID,
                row.Cumulative_Exposure_to_Topoisomerase_II_Inhibitor,
                row.Topoisomerase_I_Inhibitor_Treatment,
                row.Topoisomerase_II_Inhibitor_Treatment
                )
                )
    conn.commit()
conn.close()

print("Data inserted :)");
```



**USE CASE QUERIES**

```
#Query 1 - Number of Mutation in Cancer Patients

import sqlite3
import pandas as pd


con = sqlite3.connect('cancer.db')
q1 = (
'''SELECT  P.Patient_ID,P.Sample_ID,M.Mutation_Count
FROM PATIENT P
LEFT JOIN MICROTUBULE M
    ON P.Patient_ID = M.Patient_ID
UNION
SELECT  P.Patient_ID,P.Sample_ID,M.Mutation_Count
FROM MICROTUBULE M
LEFT JOIN PATIENT P
    ON P.Patient_ID = M.Patient_ID;'''
      )


# Convert the SQL query to Pandas data Frame
r1 = pd.read_sql(q1, con)
r1.head(1)
print(r1)


# Plotting Graph
import matplotlib.pyplot as plt
fig = plt.figure(figsize = (10, 5))

# creating the bar plot
plt.bar(r1['Mutation_Count'], r1['Mutation_Count'], color ='maroon',
        width = 0.4)
plt.xlabel("Mutation_Count")
plt.ylabel("No of mutations")
plt.title("Number of Mutation in Cancer Patients")
plt.show()
```

<img width="900" alt="MicrosoftTeams-image (20)" src="https://user-images.githubusercontent.com/37552813/205807773-c991aae6-b59a-4efd-8bfa-75062ff68d54.png">



```
Query 2 - Time to draw blood from the patient

import sqlite3
import pandas as pd


con = sqlite3.connect('cancer.db')
q1 = (
'''SELECT  P.Patient_ID,P.Sample_ID,D.Time_to_Blood_Draw_from_Treatment
FROM PATIENT P
LEFT JOIN DIAGNOSIS D
    ON P.Patient_ID = D.Patient_ID
UNION
SELECT  P.Patient_ID,P.Sample_ID,D.Time_to_Blood_Draw_from_Treatment
FROM DIAGNOSIS D
LEFT JOIN PATIENT P
    ON P.Patient_ID = D.Patient_ID;'''
      )


# Convert the SQL query to Pandas data Frame
r1 = pd.read_sql(q1, con)
r1.head(1)
print(r1)

# Plotting Graph
import matplotlib.pyplot as plt
fig = plt.figure(figsize = (10, 5))

# creating the bar plot
plt.bar(r1['Time_to_Blood_Draw_from_Treatment'], r1['Time_to_Blood_Draw_from_Treatment'], color ='maroon',
        width = 0.4)
plt.xlabel("Time_to_Blood_Draw_from_Treatment")
plt.ylabel("No of Time_to_Blood_Draw_from_Treatment")
plt.title("Time_to_Blood_Draw_from_Treatment in Cancer Patients")
plt.show()
```

<img width="892" alt="MicrosoftTeams-image (21)" src="https://user-images.githubusercontent.com/37552813/205807867-15053aad-4e2f-4f44-9483-0279dc79ae0f.png">


```
Query 3 - Time_from_Diagnosis


import sqlite3
import pandas as pd

con = sqlite3.connect('cancer.db')
q1 = (
'''SELECT  P.Patient_ID,P.Sample_ID,D.Time_from_Diagnosis
FROM PATIENT P
LEFT JOIN DIAGNOSIS D
    ON P.Patient_ID = D.Patient_ID
UNION
SELECT  P.Patient_ID,P.Sample_ID,D.Time_from_Diagnosis
FROM DIAGNOSIS D
LEFT JOIN PATIENT P
    ON P.Patient_ID = D.Patient_ID;'''
      )

# Convert the SQL query to Pandas data Frame
r1 = pd.read_sql(q1, con)
r1.head(1)
print(r1)

# Plotting Graph
import matplotlib.pyplot as plt
fig = plt.figure(figsize = (10, 5))

# creating the bar plot
plt.bar(r1['Time_From_Diagnosis'], r1['Time_From_Diagnosis'], color ='maroon',
        width = 0.4)
plt.xlabel("Time_from_Diagnosis")
plt.ylabel("No of Time")
plt.title("Time_from_Diagnosis in Cancer Patients")
plt.show()
```

<img width="610" alt="MicrosoftTeams-image (22)" src="https://user-images.githubusercontent.com/37552813/205807964-c31d55ac-4627-4849-a108-ff66b6529ea3.png">


```
Query 4 - Smoking Status


import sqlite3
import pandas as pd
con = sqlite3.connect('cancer.db')
q1 = (
'''SELECT  P1.Smoking_Status,COUNT(P1.Smoking_Status)
FROM PATIENT P1
LEFT JOIN PATIENT p2
    ON P1.Patient_ID = P2.Patient_ID
GROUP BY P1.Smoking_Status
ORDER BY P1.Smoking_Status;'''
      )

# Convert the SQL query to Pandas data Frame
r1 = pd.read_sql(q1, con)
r1.head(5)
print(r1)

# Import libraries
from matplotlib import pyplot as plt
import numpy as np

# Creating dataset
labels = r1['Smoking_Status']
data = r1['COUNT(P1.Smoking_Status)']

# Creating plot
fig = plt.figure(figsize =(10, 7))
plt.pie(data, labels = labels)

# show plot
plt.show()
```

<img width="398" alt="MicrosoftTeams-image (23)" src="https://user-images.githubusercontent.com/37552813/205808370-a1b44cd0-f267-41d2-bb59-2c1781cd8410.png">


```
Query 5 - Treatment Status


import sqlite3
import pandas as pd
con = sqlite3.connect('cancer.db')
q1 = (
'''SELECT  D.Carboplatin_Treatment,COUNT(D.Carboplatin_Treatment)
FROM ANTIMETABOLITE D
LEFT JOIN PATIENT P
    ON P.Patient_ID = D.Patient_ID
GROUP BY D.Carboplatin_Treatment
;
'''
      )

# Convert the SQL query to Pandas data Frame
r1 = pd.read_sql(q1, con)
r1.head(5)
print(r1)

# Import libraries
from matplotlib import pyplot as plt
import numpy as np

# Creating dataset
labels = r1['Carboplatin_Treatment']
data = r1['COUNT(D.Carboplatin_Treatment)']

# Creating plot
fig = plt.figure(figsize =(10, 7))
plt.pie(data, labels = labels)

# show plot
plt.show()
```

<img width="392" alt="MicrosoftTeams-image (24)" src="https://user-images.githubusercontent.com/37552813/205808467-fb1ab3e4-a841-4982-89c3-7d160b437abc.png">


```
Query 6 - Cisplatin Treatment


import sqlite3
import pandas as pd
con = sqlite3.connect('cancer.db')
q1 = (
'''SELECT  D.Cisplatin_Treatment,COUNT(D.Cisplatin_Treatment)
FROM ANTIMETABOLITE D
LEFT JOIN PATIENT P
    ON P.Patient_ID = D.Patient_ID
GROUP BY D.Cisplatin_Treatment
;
'''
      )

# Convert the SQL query to Pandas data Frame
r1 = pd.read_sql(q1, con)
r1.head(5)
print(r1)

# Import libraries
from matplotlib import pyplot as plt
import numpy as np

# Creating dataset
labels = r1['Cisplatin_Treatment']
data = r1['COUNT(D.Cisplatin_Treatment)']

# Creating plot
fig = plt.figure(figsize =(10, 7))
plt.pie(data, labels = labels)

# show plot
plt.show()
```

<img width="400" alt="MicrosoftTeams-image (25)" src="https://user-images.githubusercontent.com/37552813/205808576-4b5b695f-7207-4144-8615-d11cdf01350c.png">


```
Query 7 - Antimetobolite_Treatment


import sqlite3
import pandas as pd
con = sqlite3.connect('cancer.db')
q1 = (
'''SELECT  D.Antimetobolite_Treatment,COUNT(D.Antimetobolite_Treatment)
FROM ANTIMETABOLITE D
LEFT JOIN PATIENT P
    ON P.Patient_ID = D.Patient_ID
GROUP BY D.Antimetobolite_Treatment
;
'''
      )

# Convert the SQL query to Pandas data Frame
r1 = pd.read_sql(q1, con)
r1.head(5)
print(r1)

# Import libraries
from matplotlib import pyplot as plt
import numpy as np

# Creating dataset
labels = r1['Antimetobolite_Treatment']
data = r1['COUNT(D.Antimetobolite_Treatment)']

# Creating plot
fig = plt.figure(figsize =(10, 7))
plt.pie(data, labels = labels)

# show plot
plt.show()
```

<img width="432" alt="MicrosoftTeams-image (26)" src="https://user-images.githubusercontent.com/37552813/205808860-d60cfd85-95e4-45c0-a980-6c2fb3986924.png">



```
Query 8 - Anthracycline_Treatment


import sqlite3
import pandas as pd
con = sqlite3.connect('cancer.db')
q1 = (
''' SELECT D.Anthracycline_Treatment,COUNT(D.Anthracycline_Treatment)
 FROM ANTIBIOTICS D
 LEFT JOIN PATIENT P
 ON P.Patient_ID = D.Patient_ID
GROUP BY D.Anthracycline_Treatment
;
'''
 )
# Convert the SQL query to Pandas data Frame
r1 = pd.read_sql(q1, con)
r1.head(5)
print(r1)

# Import libraries
from matplotlib import pyplot as plt
import numpy as np

# Creating dataset
labels = r1['Anthracycline_Treatment']
data = r1['COUNT(D.Anthracycline_Treatment)']
# Creating plot
fig = plt.figure(figsize =(10, 7))
plt.pie(data, labels = labels)

# show plot
plt.show()
```

<img width="406" alt="MicrosoftTeams-image (28)" src="https://user-images.githubusercontent.com/37552813/205809413-5a6cd2c3-87ed-4f4d-8eeb-e01e8b441c4a.png">


```
Query 9 - Alkylating_Agent_Treatment

import sqlite3
import pandas as pd
con = sqlite3.connect('cancer.db')
q1 = (
'''SELECT  D.Alkylating_Agent_Treatment,COUNT(D.Alkylating_Agent_Treatment)
FROM ANTIBIOTICS D
LEFT JOIN PATIENT P
    ON P.Patient_ID = D.Patient_ID
GROUP BY D.Alkylating_Agent_Treatment
;
'''
      )

# Convert the SQL query to Pandas data Frame
r1 = pd.read_sql(q1, con)
r1.head(5)
print(r1)

# Import libraries
from matplotlib import pyplot as plt
import numpy as np


# Creating dataset
labels = r1['Alkylating_Agent_Treatment']
data = r1['COUNT(D.Alkylating_Agent_Treatment)']


# Creating plot
fig = plt.figure(figsize =(10, 7))
plt.pie(data, labels = labels)


# show plot
plt.show()
```

<img width="437" alt="MicrosoftTeams-image (29)" src="https://user-images.githubusercontent.com/37552813/205809666-3628938a-ee4f-4c11-ab18-4eb581a45ddf.png">


```
# Query 10 - EQD_Tertiles
import sqlite3
import pandas as pd
con = sqlite3.connect('cancer.db')
q1 = (
'''SELECT  D.EQD_Tertiles,COUNT(D.EQD_Tertiles)
FROM MICROTUBULE D
LEFT JOIN PATIENT P
    ON P.Patient_ID = D.Patient_ID
GROUP BY D.EQD_Tertiles
;
'''
      )


# Convert the SQL query to Pandas data Frame
r1 = pd.read_sql(q1, con)
r1.head(5)
print(r1)


# Import libraries
from matplotlib import pyplot as plt
import numpy as np


# Creating dataset
labels = r1['EQD_Tertiles']
data = r1['COUNT(D.EQD_Tertiles)']


# Creating plot
fig = plt.figure(figsize =(10, 7))
plt.pie(data, labels = labels)


# show plot
plt.show()
```

<img width="406" alt="MicrosoftTeams-image (30)" src="https://user-images.githubusercontent.com/37552813/205809836-04e525e8-568b-43d6-a675-a1178146a2b0.png">


```
Query 11 - Race


import sqlite3
import pandas as pd
con = sqlite3.connect('cancer.db')
q1 = (
'''SELECT  P1.Race,COUNT(P1.Race)
FROM PATIENT P1
LEFT JOIN PATIENT p2
    ON P1.Patient_ID = P2.Patient_ID
GROUP BY P1.Race
ORDER BY P1.Race;
'''
      )
# Convert the SQL query to Pandas data Frame
r1 = pd.read_sql(q1, con)
r1.head(5)
print(r1)

# Import libraries
from matplotlib import pyplot as plt
import numpy as np

# Creating dataset
labels = r1['Race']
data = r1['COUNT(P1.Race)']

# Creating plot
fig = plt.figure(figsize =(10, 7))
plt.pie(data, labels = labels)

# show plot
plt.show()
```

<img width="374" alt="MicrosoftTeams-image (31)" src="https://user-images.githubusercontent.com/37552813/205809921-f7e4cdfb-b271-41a7-b05e-da83cb10947d.png">


```
Query 12 - All_Therapy_At_MSKCC


import sqlite3
import pandas as pd
con = sqlite3.connect('cancer.db')
q1 = (
'''SELECT  C.All_therapy_at_MSKCC,COUNT(C.All_therapy_at_MSKCC)
FROM CANCER_TYPE C
LEFT JOIN PATIENT P
    ON C.Patient_ID = P.Patient_ID
GROUP BY C.All_therapy_at_MSKCC
ORDER BY C.All_therapy_at_MSKCC;
'''
      )

# Convert the SQL query to Pandas data Frame
r1 = pd.read_sql(q1, con)
r1.head(5)
print(r1)

# Import libraries
from matplotlib import pyplot as plt
import numpy as np

# Creating dataset
labels = r1['All_therapy_at_MSKCC']
data = r1['COUNT(C.All_therapy_at_MSKCC)']

# Creating plot
fig = plt.figure(figsize =(10, 7))
plt.pie(data, labels = labels)

# show plot
plt.show()
```

<img width="406" alt="MicrosoftTeams-image (32)" src="https://user-images.githubusercontent.com/37552813/205810008-e51f5e60-2729-40bb-8bc8-90bb44e46870.png">


```
Query 13 - Platinum Treatment


import sqlite3
import pandas as pd
con = sqlite3.connect('cancer.db')
q1 = (
'''SELECT  A.Platinum_Treatment,COUNT(A.Platinum_Treatment)
FROM ANTIMETABOLITE A
LEFT JOIN PATIENT P
    ON A.Patient_ID = P.Patient_ID
GROUP BY A.Platinum_Treatment
ORDER BY A.Platinum_Treatment;
'''
      )

# Convert the SQL query to Pandas data Frame
r1 = pd.read_sql(q1, con)
r1.head(5)
print(r1)

# Import libraries
from matplotlib import pyplot as plt
import numpy as np

# Creating dataset
labels = r1['Platinum_Treatment']
data = r1['COUNT(A.Platinum_Treatment)']

# Creating plot
fig = plt.figure(figsize =(10, 7))
plt.pie(data, labels = labels)

# show plot
plt.show()
```

<img width="400" alt="MicrosoftTeams-image (33)" src="https://user-images.githubusercontent.com/37552813/205810096-ce522f05-cb05-464e-bac6-6dab75c6e979.png">


```
Query 14 - Radiotherapy Treatment


import sqlite3
import pandas as pd
con = sqlite3.connect('cancer.db')
q1 = (
'''SELECT  R.Radiotherapy_Treatment,COUNT(R.Radiotherapy_Treatment)
FROM RADIOTHERAPY R
LEFT JOIN PATIENT P
    ON R.Patient_ID = P.Patient_ID
GROUP BY R.Radiotherapy_Treatment
ORDER BY R.Radiotherapy_Treatment;
'''
      )

# Convert the SQL query to Pandas data Frame
r1 = pd.read_sql(q1, con)
r1.head(5)
print(r1)

# Import libraries
from matplotlib import pyplot as plt
import numpy as np

# Creating dataset
labels = r1['Radiotherapy_Treatment']
data = r1['COUNT(R.Radiotherapy_Treatment)']

# Creating plot
fig = plt.figure(figsize =(10, 7))
plt.pie(data, labels = labels)

# show plot
plt.show()
```

<img width="426" alt="MicrosoftTeams-image (34)" src="https://user-images.githubusercontent.com/37552813/205810180-4827c6cf-1356-4ae3-9253-5ccbd11bd4d8.png">


```
Query 15 - Chemotherapy Treatment


import sqlite3
import pandas as pd
con = sqlite3.connect('cancer.db')
q1 = (
'''SELECT  C.Chemotherapy_Treatment,COUNT(C.Chemotherapy_Treatment)
FROM CHEMOTHERAPY C
LEFT JOIN PATIENT P
    ON C.Patient_ID = P.Patient_ID
GROUP BY C.Chemotherapy_Treatment
ORDER BY C.Chemotherapy_Treatment;
'''
      )

# Convert the SQL query to Pandas data Frame
r1 = pd.read_sql(q1, con)
r1.head(5)
print(r1)

# Import libraries
from matplotlib import pyplot as plt
import numpy as np

# Creating dataset
labels = r1['Chemotherapy_Treatment']
data = r1['COUNT(C.Chemotherapy_Treatment)']

# Creating plot
fig = plt.figure(figsize =(10, 7))
plt.pie(data, labels = labels)

# show plot
plt.show()
```

<img width="425" alt="MicrosoftTeams-image (35)" src="https://user-images.githubusercontent.com/37552813/205810241-e95e252f-326e-4814-9f8c-747b1e44bbcc.png">






